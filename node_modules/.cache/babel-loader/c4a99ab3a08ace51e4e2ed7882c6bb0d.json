{"ast":null,"code":"var _jsxFileName = \"/Users/mathis/Documents/Code/ReactJs/my-app/src/Context/AppContext.js\",\n    _s = $RefreshSig$();\n\nimport update from 'immutability-helper';\nimport React, { createContext, useReducer } from 'react';\nimport Data from '../Components/Data';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = Data;\n\nconst AppReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_PRODUCT':\n      return update(state, {\n        tables: {\n          [action.tableNumber - 1]: {\n            order: {\n              $push: [action.order]\n            }\n          }\n        }\n      });\n\n    case 'DELETE_PRODUCT':\n      const array = state.tables[action.tableNumber - 1].order.filter(order => order.id !== action.id);\n      return update(state, {\n        tables: {\n          [action.tableNumber - 1]: {\n            order: {\n              $set: array\n            }\n          }\n        }\n      });\n\n    case 'SET_TABLE_OCCUPIED':\n      return update(state, {\n        tables: {\n          [action.tableNumber - 1]: {\n            isOccupied: {\n              $set: action.state\n            }\n          }\n        }\n      });\n\n    case 'RESET_ORDER':\n      return update(state, {\n        tables: {\n          [action.tableNumber - 1]: {\n            order: {\n              $set: []\n            }\n          }\n        }\n      });\n\n    case 'SET_TABLES':\n      return update(state, {\n        tables: {\n          $set: action.tables\n        }\n      });\n\n    default:\n      return state;\n  }\n};\n\n_c = AppReducer;\nexport const AppContext = /*#__PURE__*/createContext();\nexport const AppProvider = props => {\n  _s();\n\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      tables: state.tables,\n      categories: state.categories,\n      dispatch\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 3\n  }, this);\n};\n\n_s(AppProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c2 = AppProvider;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AppReducer\");\n$RefreshReg$(_c2, \"AppProvider\");","map":{"version":3,"names":["update","React","createContext","useReducer","Data","initialState","AppReducer","state","action","type","tables","tableNumber","order","$push","array","filter","id","$set","isOccupied","AppContext","AppProvider","props","dispatch","categories","children"],"sources":["/Users/mathis/Documents/Code/ReactJs/my-app/src/Context/AppContext.js"],"sourcesContent":["import update from 'immutability-helper';\nimport React, { createContext, useReducer } from 'react';\nimport Data from '../Components/Data';\n\nconst initialState = Data;\n\nconst AppReducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase 'ADD_PRODUCT':\n\t\t\treturn update(state, {\n\t\t\t\ttables: {\n\t\t\t\t\t[action.tableNumber - 1]: {\n\t\t\t\t\t\torder: { $push: [action.order] },\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\tcase 'DELETE_PRODUCT':\n\t\t\tconst array = state.tables[action.tableNumber - 1].order.filter(\n\t\t\t\t(order) => order.id !== action.id\n\t\t\t);\n\n\t\t\treturn update(state, {\n\t\t\t\ttables: {\n\t\t\t\t\t[action.tableNumber - 1]: {\n\t\t\t\t\t\torder: { $set: array },\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\tcase 'SET_TABLE_OCCUPIED':\n\t\t\treturn update(state, {\n\t\t\t\ttables: {\n\t\t\t\t\t[action.tableNumber - 1]: {\n\t\t\t\t\t\tisOccupied: { $set: action.state },\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\tcase 'RESET_ORDER':\n\t\t\treturn update(state, {\n\t\t\t\ttables: {\n\t\t\t\t\t[action.tableNumber - 1]: {\n\t\t\t\t\t\torder: { $set: [] },\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\tcase 'SET_TABLES':\n\t\t\treturn update(state, {\n\t\t\t\ttables: { $set: action.tables },\n\t\t\t});\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const AppContext = createContext();\n\nexport const AppProvider = (props) => {\n\tconst [state, dispatch] = useReducer(AppReducer, initialState);\n\n\treturn (\n\t\t<AppContext.Provider\n\t\t\tvalue={{\n\t\t\t\ttables: state.tables,\n\t\t\t\tcategories: state.categories,\n\t\t\t\tdispatch,\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</AppContext.Provider>\n\t);\n};\n"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,QAAiD,OAAjD;AACA,OAAOC,IAAP,MAAiB,oBAAjB;;AAEA,MAAMC,YAAY,GAAGD,IAArB;;AAEA,MAAME,UAAU,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACrC,QAAQA,MAAM,CAACC,IAAf;IACC,KAAK,aAAL;MACC,OAAOT,MAAM,CAACO,KAAD,EAAQ;QACpBG,MAAM,EAAE;UACP,CAACF,MAAM,CAACG,WAAP,GAAqB,CAAtB,GAA0B;YACzBC,KAAK,EAAE;cAAEC,KAAK,EAAE,CAACL,MAAM,CAACI,KAAR;YAAT;UADkB;QADnB;MADY,CAAR,CAAb;;IAQD,KAAK,gBAAL;MACC,MAAME,KAAK,GAAGP,KAAK,CAACG,MAAN,CAAaF,MAAM,CAACG,WAAP,GAAqB,CAAlC,EAAqCC,KAArC,CAA2CG,MAA3C,CACZH,KAAD,IAAWA,KAAK,CAACI,EAAN,KAAaR,MAAM,CAACQ,EADlB,CAAd;MAIA,OAAOhB,MAAM,CAACO,KAAD,EAAQ;QACpBG,MAAM,EAAE;UACP,CAACF,MAAM,CAACG,WAAP,GAAqB,CAAtB,GAA0B;YACzBC,KAAK,EAAE;cAAEK,IAAI,EAAEH;YAAR;UADkB;QADnB;MADY,CAAR,CAAb;;IAQD,KAAK,oBAAL;MACC,OAAOd,MAAM,CAACO,KAAD,EAAQ;QACpBG,MAAM,EAAE;UACP,CAACF,MAAM,CAACG,WAAP,GAAqB,CAAtB,GAA0B;YACzBO,UAAU,EAAE;cAAED,IAAI,EAAET,MAAM,CAACD;YAAf;UADa;QADnB;MADY,CAAR,CAAb;;IAQD,KAAK,aAAL;MACC,OAAOP,MAAM,CAACO,KAAD,EAAQ;QACpBG,MAAM,EAAE;UACP,CAACF,MAAM,CAACG,WAAP,GAAqB,CAAtB,GAA0B;YACzBC,KAAK,EAAE;cAAEK,IAAI,EAAE;YAAR;UADkB;QADnB;MADY,CAAR,CAAb;;IAQD,KAAK,YAAL;MACC,OAAOjB,MAAM,CAACO,KAAD,EAAQ;QACpBG,MAAM,EAAE;UAAEO,IAAI,EAAET,MAAM,CAACE;QAAf;MADY,CAAR,CAAb;;IAID;MACC,OAAOH,KAAP;EA/CF;AAiDA,CAlDD;;KAAMD,U;AAoDN,OAAO,MAAMa,UAAU,gBAAGjB,aAAa,EAAhC;AAEP,OAAO,MAAMkB,WAAW,GAAIC,KAAD,IAAW;EAAA;;EACrC,MAAM,CAACd,KAAD,EAAQe,QAAR,IAAoBnB,UAAU,CAACG,UAAD,EAAaD,YAAb,CAApC;EAEA,oBACC,QAAC,UAAD,CAAY,QAAZ;IACC,KAAK,EAAE;MACNK,MAAM,EAAEH,KAAK,CAACG,MADR;MAENa,UAAU,EAAEhB,KAAK,CAACgB,UAFZ;MAGND;IAHM,CADR;IAAA,UAOED,KAAK,CAACG;EAPR;IAAA;IAAA;IAAA;EAAA,QADD;AAWA,CAdM;;GAAMJ,W;;MAAAA,W"},"metadata":{},"sourceType":"module"}